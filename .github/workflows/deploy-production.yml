name: Redeploy Production (Vercel Hook)

on:
  workflow_dispatch:

jobs:
  deploy-production:
    runs-on: ubuntu-latest
    env:
      VERCEL_DEPLOY_HOOK_URL: ${{ secrets.VERCEL_DEPLOY_HOOK_URL }}
    steps:
      - name: Trigger Vercel Deploy Hook
        run: |
          if [ -z "$VERCEL_DEPLOY_HOOK_URL" ]; then
            echo "VERCEL_DEPLOY_HOOK_URL secret is not set. Configure a Vercel Deploy Hook URL in GitHub Actions secrets to enable production deploys." >&2
            exit 1
          fi
          curl -fSL -X POST "$VERCEL_DEPLOY_HOOK_URL"
